<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Breakfast Quiz - Hands Please</title>
  <style>
    :root{
      --eggshell: #f3efe6;
      --ink: #1f2328;
      --accent: #d35400;
      --danger: #c0392b;
      --ok: #27ae60;
    }

    *{ box-sizing: border-box; margin: 0; padding: 0; }
    
    html, body{ height: 100%; overflow: hidden; }

    body{
      background: var(--eggshell);
      background-image: radial-gradient(circle, #ccc 1px, transparent 1px);
      background-size: 20px 20px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      color: var(--ink);
      display: flex;
      flex-direction: column;
    }

    /* TOP HALF - Questions (50%) */
    .topHalf{
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 20px;
      justify-content: center;
      align-items: center;
    }

    .quizCard{
      width: 100%;
      max-width: 600px;
      background: white;
      border: 2px solid rgba(0,0,0,0.1);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    }

    .quizHeader{
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      font-size: 14px;
      font-weight: bold;
      color: #7f8c8d;
    }

    .quizTitle{
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      color: var(--accent);
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .questionText{
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 20px;
      line-height: 1.4;
    }

    .choices{
      display: grid;
      gap: 12px;
      margin-bottom: 15px;
    }

    .choice{
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      border: 2px solid #ecf0f1;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 16px;
      background: white;
    }

    .choice:hover{
      border-color: var(--accent);
      background: #fff9f0;
      transform: translateX(5px);
    }

    .choice input{
      width: 20px;
      height: 20px;
      accent-color: var(--accent);
    }

    .submitBtn{
      width: 100%;
      padding: 16px;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: 0.2s;
    }

    .submitBtn:hover{ background: #e67e22; }
    .submitBtn:disabled{ opacity: 0.5; cursor: not-allowed; }

    .feedback{
      text-align: center;
      margin-top: 10px;
      font-size: 16px;
      font-weight: bold;
      min-height: 24px;
    }

    /* BOTTOM HALF - Chicken Show (50%) */
    .bottomHalf{
      flex: 1;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      overflow: hidden;
      background: linear-gradient(to bottom, transparent, rgba(255,255,255,0.3));
    }

    /* Eggs HUD */
    .eggsHUD{
      position: absolute;
      top: 20px;
      display: flex;
      gap: 20px;
      z-index: 20;
    }

    .egg{
      width: 60px;
      height: 75px;
      background: linear-gradient(145deg, #fff, #f0f0f0);
      border: 3px solid #ddd;
      border-radius: 50% 50% 45% 45%;
      box-shadow: 0 6px 0 #ccc, inset 0 2px 0 rgba(255,255,255,0.8);
      position: relative;
    }

    .egg::after{
      content: '';
      position: absolute;
      top: 15px;
      left: 15px;
      width: 12px;
      height: 16px;
      background: rgba(255,255,255,0.6);
      border-radius: 50%;
      transform: rotate(-30deg);
    }

    .egg.cracked{
      background: #e8e8e8;
      border-color: #999;
      transform: rotate(15deg);
    }

    .egg.cracked::before{
      content: '';
      position: absolute;
      inset: 0;
      background: 
        linear-gradient(45deg, transparent 48%, #555 49%, #555 51%, transparent 52%),
        linear-gradient(-60deg, transparent 48%, #555 49%, #555 51%, transparent 52%);
      border-radius: inherit;
    }

    /* Chicken Stage */
    .chickenStage{
      width: 100%;
      height: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      position: relative;
    }

    .chickenSVG{
      width: 90%;
      max-width: 500px;
      height: 90%;
      display: none;
      filter: drop-shadow(0 15px 20px rgba(0,0,0,0.15));
    }

    /* Moods */
    body.happy .happy{ display: block; animation: bounce 0.6s ease-in-out infinite alternate; }
    body.angry .angry{ display: block; animation: shake 0.12s linear infinite; }
    body.wink .wink{ display: block; animation: breathe 3s ease-in-out infinite; }
    body.peck .angry{ display: block; animation: peckAttack 0.5s ease-in-out infinite; }

    @keyframes bounce{
      from{ transform: translateY(0); }
      to{ transform: translateY(-30px); }
    }

    @keyframes shake{
      0%{ transform: translate(2px, 1px) rotate(0deg); }
      25%{ transform: translate(-2px, -2px) rotate(-1deg); }
      50%{ transform: translate(2px, 2px) rotate(1deg); }
      75%{ transform: translate(-2px, 1px) rotate(-1deg); }
      100%{ transform: translate(2px, -1px) rotate(0deg); }
    }

    @keyframes breathe{
      0%, 100%{ transform: scale(1); }
      50%{ transform: scale(1.03); }
    }

    @keyframes peckAttack{
      0%{ transform: scale(1) translateY(0); }
      50%{ transform: scale(1.8) translateY(40px); }
      100%{ transform: scale(1) translateY(0); }
    }

    /* Game Over Popup */
    .gameOverPopup{
      position: absolute;
      top: 15%;
      left: 50%;
      transform: translateX(-50%);
      width: 90%;
      max-width: 450px;
      background: white;
      border: 5px solid var(--danger);
      border-radius: 24px;
      padding: 40px;
      text-align: center;
      box-shadow: 0 40px 80px rgba(0,0,0,0.4);
      z-index: 100;
      display: none;
    }

    .gameOverPopup h2{
      font-size: 32px;
      color: var(--danger);
      margin-bottom: 15px;
    }

    .gameOverPopup p{
      font-size: 18px;
      margin-bottom: 10px;
      color: #555;
    }

    .gameOverPopup button{
      margin-top: 20px;
      padding: 16px 40px;
      background: var(--ink);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
    }

    /* Admin Link */
    .adminLink{
      position: fixed;
      bottom: 10px;
      right: 10px;
      font-size: 11px;
      color: #95a5a6;
      text-decoration: none;
      background: rgba(255,255,255,0.8);
      padding: 5px 10px;
      border-radius: 6px;
      z-index: 200;
    }

    .adminLink:hover{ color: var(--accent); }

    /* Admin Modal */
    .adminModal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 300;
    }

    .adminBox{
      background: white;
      padding: 30px;
      border-radius: 16px;
      width: 90%;
      max-width: 400px;
      text-align: center;
    }

    .adminBox h3{ margin-bottom: 20px; color: var(--accent); }

    .adminBox button{
      display: block;
      width: 100%;
      padding: 14px;
      margin: 10px 0;
      border: none;
      background: #ecf0f1;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
    }

    .adminBox button:hover{ background: #d5dbdb; }

  </style>
</head>

<body class="wink">

  <!-- TOP HALF -->
  <div class="topHalf">
    <div class="quizCard">
      <div class="quizHeader">
        <span id="qNum">Q 1/9</span>
        <span id="scoreDisplay">Score: 0</span>
      </div>
      
      <div class="quizTitle">Hands Please!</div>
      
      <div class="questionText" id="questionText">Loading...</div>
      
      <div class="choices" id="choicesContainer"></div>
      
      <button class="submitBtn" id="submitBtn">Submit Answer</button>
      
      <div class="feedback" id="feedbackText"></div>
    </div>
  </div>

  <!-- BOTTOM HALF -->
  <div class="bottomHalf">
    
    <!-- Eggs -->
    <div class="eggsHUD">
      <div class="egg" id="egg1"></div>
      <div class="egg" id="egg2"></div>
      <div class="egg" id="egg3"></div>
    </div>

    <!-- Chicken Stage -->
    <div class="chickenStage">
      
      <!-- HAPPY (White, Wings Up) -->
      <svg class="chickenSVG happy" viewBox="0 0 400 400" preserveAspectRatio="xMidYMax meet">
        <ellipse cx="200" cy="260" rx="100" ry="105" fill="#ffffff" stroke="#222" stroke-width="6"/>
        <path d="M110 210 Q60 120 90 100" fill="none" stroke="#fff" stroke-width="20" stroke-linecap="round"/>
        <path d="M110 210 Q60 120 90 100" fill="none" stroke="#222" stroke-width="5" stroke-linecap="round"/>
        <path d="M290 210 Q340 120 310 100" fill="none" stroke="#fff" stroke-width="20" stroke-linecap="round"/>
        <path d="M290 210 Q340 120 310 100" fill="none" stroke="#222" stroke-width="5" stroke-linecap="round"/>
        <path d="M170 350 L165 380 M230 350 L235 380" stroke="#f39c12" stroke-width="10" stroke-linecap="round"/>
        <circle cx="200" cy="160" r="70" fill="#fff" stroke="#222" stroke-width="6"/>
        <path d="M170 110 Q200 70 230 110" fill="#e74c3c" stroke="#222" stroke-width="5"/>
        <path d="M175 150 Q185 140 195 150 M205 150 Q215 140 225 150" fill="none" stroke="#222" stroke-width="5" stroke-linecap="round"/>
        <path d="M185 175 Q200 190 215 175" fill="none" stroke="#f39c12" stroke-width="5" stroke-linecap="round"/>
      </svg>

      <!-- ANGRY (Brown, Rage) -->
      <svg class="chickenSVG angry" viewBox="0 0 400 400" preserveAspectRatio="xMidYMax meet">
        <ellipse cx="200" cy="260" rx="110" ry="100" fill="#8B4513" stroke="#222" stroke-width="6"/>
        <path d="M70 220 Q30 200 50 270" fill="#A0522D" stroke="#222" stroke-width="5"/>
        <path d="M330 220 Q370 200 350 270" fill="#A0522D" stroke="#222" stroke-width="5"/>
        <path d="M170 350 L165 380 M230 350 L235 380" stroke="#f39c12" stroke-width="10" stroke-linecap="round"/>
        <circle cx="200" cy="150" r="68" fill="#8B4513" stroke="#222" stroke-width="6"/>
        <path d="M175 95 L182 75 L189 95 L196 75 L203 95 L210 75 L217 95" fill="#e74c3c" stroke="#222" stroke-width="3"/>
        <path d="M160 130 L185 145 M240 130 L215 145" stroke="#222" stroke-width="6" stroke-linecap="round"/>
        <circle cx="175" cy="150" r="5" fill="#ff0000"/>
        <circle cx="225" cy="150" r="5" fill="#ff0000"/>
        <path d="M185 170 L215 170 L200 190 Z" fill="#f39c12" stroke="#222" stroke-width="4"/>
      </svg>

      <!-- WINK (Tan, Chill) -->
      <svg class="chickenSVG wink" viewBox="0 0 400 400" preserveAspectRatio="xMidYMax meet">
        <ellipse cx="200" cy="260" rx="95" ry="100" fill="#DEB887" stroke="#222" stroke-width="6"/>
        <path d="M115 250 Q95 270 125 285" fill="none" stroke="#CD853F" stroke-width="6" stroke-linecap="round"/>
        <path d="M170 350 L170 380 M230 350 L230 380" stroke="#f39c12" stroke-width="10" stroke-linecap="round"/>
        <circle cx="200" cy="150" r="65" fill="#DEB887" stroke="#222" stroke-width="6"/>
        <path d="M170 100 Q200 70 230 100" fill="#e74c3c" stroke="#222" stroke-width="5"/>
        <circle cx="175" cy="145" r="6" fill="#222"/>
        <path d="M210 145 Q220 150 230 145" fill="none" stroke="#222" stroke-width="5" stroke-linecap="round"/>
        <path d="M185 170 L215 170 L200 185 Z" fill="#f39c12" stroke="#222" stroke-width="4"/>
      </svg>

    </div>
  </div>

  <!-- Game Over Popup -->
  <div class="gameOverPopup" id="gameOverPopup">
    <h2>Strike 3!</h2>
    <p>Oh oh! The chicken is NOT happy.</p>
    <p>Study hard and try again!</p>
    <button onclick="location.reload()">Restart Quiz</button>
  </div>

  <a href="#" class="adminLink" onclick="event.preventDefault(); openAdmin();">Admin</a>

  <!-- Admin Modal -->
  <div class="adminModal" id="adminModal">
    <div class="adminBox">
      <h3>Admin Panel</h3>
      <button onclick="resetToDefaults()">Reset to Default Questions</button>
      <button onclick="closeAdmin()">Close</button>
    </div>
  </div>

  <script>
    // === DATA ===
    const DEFAULT_BANK = [
      { q: "Describe Loop juices to a guest:", c: ["Imperfect produce, cold pressed, circular economy", "Fresh squeezed daily in-house", "Concentrate from cartons"], a: 0 },
      { q: "Is the Farmhouse Breakfast gluten free?", c: ["Yes, it's naturally gluten free", "No - potatoes cooked in shared fryer (cross-contamination)", "Only if you remove the eggs"], a: 1 },
      { q: "What can VEGAN guests eat?", c: ["Farmhouse Breakfast (no eggs)", "Vegan Mexican Scramble or Fruit Plate", "Eggs Benedict (hold hollandaise)"], a: 1 },
      { q: "What's in the Power Bowl?", c: ["Oatmeal with brown sugar", "Greek yogurt, berries, granola, smoothie, fresh fruit", "Acai blend with granola"], a: 1 },
      { q: "Components of Avocado Toast:", c: ["Sourdough, smashed avo, poached eggs, radish, pickled onion, feta", "Rye bread, fried egg, bacon", "Gluten free toast, plain avocado"], a: 0 },
      { q: "Is the Oatmeal gluten free?", c: ["Yes, certified gluten free", "Cooked in water but NOT celiac-safe (trace risk)", "Only if ordered plain"], a: 1 },
      { q: "Belgian Waffle comes with:", c: ["Just butter and syrup", "Fresh berries, maple whipped cream, salted caramel, icing sugar", "Chocolate sauce and banana"], a: 1 },
      { q: "Dairy-free options:", c: ["Pancakes with butter", "Fruit Plate, Vegan Scramble, Oatmeal (water-cooked)", "Yogurt Bowl"], a: 1 },
      { q: "Can Celiac guests have potatoes/fries?", c: ["Yes, totally safe", "No - cooked in shared fryer with gluten items", "Only baked potatoes"], a: 1 }
    ];

    // === STATE ===
    let questions = [];
    let currentIdx = 0;
    let score = 0;
    let strikes = 0;
    let gameOver = false;

    // === INIT ===
    function init(){
      const stored = localStorage.getItem('handsPlease_quiz_v4');
      questions = stored ? JSON.parse(stored) : [...DEFAULT_BANK];
      
      // Shuffle slightly
      questions.sort(() => Math.random() - 0.5);
      
      // Reset
      currentIdx = 0;
      score = 0;
      strikes = 0;
      gameOver = false;
      
      document.body.className = 'wink';
      document.getElementById('gameOverPopup').style.display = 'none';
      document.querySelectorAll('.egg').forEach(e => e.className = 'egg');
      
      renderQuestion();
    }

    // === RENDER ===
    function renderQuestion(){
      if(currentIdx >= questions.length){
        finishQuiz(true);
        return;
      }

      const q = questions[currentIdx];

      document.getElementById('qNum').innerText = `Q ${currentIdx + 1}/${questions.length}`;
      document.getElementById('scoreDisplay').innerText = `Score: ${score}`;
      document.getElementById('questionText').innerText = q.q;
      document.getElementById('feedbackText').innerText = '';

      const container = document.getElementById('choicesContainer');
      container.innerHTML = '';

      q.c.forEach((choice, i) => {
        const label = document.createElement('label');
        label.className = 'choice';
        label.innerHTML = `<input type="radio" name="answer" value="${i}"> ${choice}`;
        container.appendChild(label);
      });

      if(!gameOver) setMood('wink');
    }

    // === SUBMIT ===
    document.getElementById('submitBtn').onclick = () => {
      if(gameOver) return;

      const selected = document.querySelector('input[name="answer"]:checked');
      if(!selected){
        document.getElementById('feedbackText').innerText = 'üëÜ Pick an answer!';
        document.getElementById('feedbackText').style.color = '#e67e22';
        return;
      }

      const answer = parseInt(selected.value);
      const correct = questions[currentIdx].a;

      if(answer === correct){
        // CORRECT
        score++;
        document.getElementById('feedbackText').innerText = '‚úÖ Correct!';
        document.getElementById('feedbackText').style.color = 'var(--ok)';
        setMood('happy');

        setTimeout(() => {
          currentIdx++;
          renderQuestion();
        }, 1200);

      } else {
        // WRONG
        strikes++;
        document.getElementById('feedbackText').innerText = '‚ùå Wrong!';
        document.getElementById('feedbackText').style.color = 'var(--danger)';
        setMood('angry');

        // Crack egg
        if(strikes <= 3){
          document.getElementById(`egg${strikes}`).classList.add('cracked');
        }

        if(strikes >= 3){
          setTimeout(() => finishQuiz(false), 1000);
        } else {
          setTimeout(() => {
            currentIdx++;
            renderQuestion();
          }, 1200);
        }
      }
    };

    // === MOODS ===
    function setMood(mood){
      document.body.className = mood;
    }

    // === FINISH ===
    function finishQuiz(win){
      gameOver = true;
      document.getElementById('submitBtn').disabled = true;

      if(win){
        document.getElementById('questionText').innerText = 'üéâ Quiz Complete! Great Job!';
        setMood('happy');
      } else {
        // STRIKE 3
        setMood('peck');
        document.getElementById('gameOverPopup').style.display = 'block';
      }
    }

    // === ADMIN ===
    function openAdmin(){
      const pw = prompt('Enter admin password:');
      if(pw === 'Iworkfortips'){
        document.getElementById('adminModal').style.display = 'flex';
      } else if(pw !== null){
        alert('Incorrect password');
      }
    }

    function closeAdmin(){
      document.getElementById('adminModal').style.display = 'none';
    }

    function resetToDefaults(){
      if(confirm('Reset all questions to defaults?')){
        localStorage.removeItem('handsPlease_quiz_v4');
        location.reload();
      }
    }

    // === START ===
    window.addEventListener('DOMContentLoaded', init);
  </script>
</body>
</html>
